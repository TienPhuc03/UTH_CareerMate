<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <title>CareerMate ‚Äì T·∫£i l√™n CV</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="min-h-screen bg-gray-50 text-slate-900 flex flex-col">
    
    <!-- Header - Gi·ªëng Homepage -->
    <header class="px-4 py-3 bg-white xl:px-0 sticky top-0 shadow-md z-50">
        <div class="max-w-[1200px] mx-auto flex items-center">
            <div>
                <a href="Homepage.html" class="text-2xl md:text-3xl font-bold text-green-600">Career Mate</a>
            </div>
            <nav class="ml-auto flex items-center gap-10">
                <input type="checkbox" hidden id="menu-toggle"
                    class="checked:[&+ul]:translate-x-0 checked:[&~.overlay]:opacity-100 checked:[&~.overlay]:visible">
                <ul
                    class="block fixed top-0 left-0 bottom-0 bg-gray-100 text-black min-w-[200px] z-999 translate-x-[-100%] transition-transform duration-300 ease-[ease] lg:flex p-5 lg:gap-6 lg:static lg:bg-transparent lg:text-inherit lg:min-w-0 lg:p-0 lg:translate-x-0 lg:transition-none font-bold">
                    <li><a href="Homepage.html" class="py-3 block hover:text-green-600 lg:py-0">Trang ch·ªß</a></li>
                    <li><a href="Findjobs.html" class="py-3 block hover:text-green-600 lg:py-0">Vi·ªác l√†m</a></li>
                    <li><a href="Printcv.html" class="py-3 block hover:text-green-600 lg:py-0">M·∫´u CV</a></li>
                    <li><a href="Uploadcv.html" class="py-3 block text-green-600 lg:py-0">T·∫°o CV</a></li>
                </ul>
                <label for="menu-toggle"
                    class="overlay fixed inset-0 z-99 bg-[#000000a2] invisible opacity-0 transition-[opacity,visibility] duration-300 lg:hidden"></label>
                
                <div id="authButtons" class="flex gap-3">
                    <a href="../auth/signup.html"
                        class="block bg-white border font-bold border-green-600 px-6 py-3 text-green-600 rounded-full hover:bg-green-100">ƒêƒÉng k√Ω</a>
                    <a href="../auth/login.html"
                        class="block bg-green-600 font-bold px-6 py-3 text-white rounded-full hover:bg-green-700">ƒêƒÉng nh·∫≠p</a>
                </div>

                <div id="userInfo" class="hidden items-center gap-3">
                    <div class="relative">
                        <div class="flex items-center gap-3 cursor-pointer hover:opacity-90 transition-opacity" id="userMenuToggle">
                            <div class="w-10 h-10 rounded-full bg-gradient-to-r from-green-500 to-blue-500 flex items-center justify-center text-white font-bold" id="userAvatar">
                                <!-- Initials s·∫Ω ƒë∆∞·ª£c ƒëi·ªÅn b·∫±ng JS -->
                            </div>
                            <div class="hidden md:block">
                                <div class="font-medium text-gray-800 max-w-[150px] truncate" id="userNameDisplay">
                                    <!-- T√™n s·∫Ω ƒë∆∞·ª£c ƒëi·ªÅn b·∫±ng JS -->
                                </div>
                                <div class="text-xs text-gray-500 max-w-[150px] truncate" id="userEmailDisplay">
                                    <!-- Email s·∫Ω ƒë∆∞·ª£c ƒëi·ªÅn b·∫±ng JS -->
                                </div>
                            </div>
                            <svg class="hidden md:block w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                        
                        <div class="absolute hidden right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden z-50" id="userDropdown">
                            <div class="p-4 border-b border-gray-100">
                                <div class="font-medium text-gray-800 truncate" id="dropdownUserName"></div>
                                <div class="text-sm text-gray-500 truncate" id="dropdownUserEmail"></div>
                            </div>
                            
                            <a href="Profile.html" class="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 hover:text-green-600 transition-colors">
                                <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                </svg>
                                <span>H·ªì s∆° c√° nh√¢n</span>
                            </a>
                            
                            <a href="Uploadcv.html" class="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 hover:text-blue-600 transition-colors">
                                <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                                <span>T·∫°o CV m·ªõi</span>
                            </a>
                            
                            <a href="Findjobs.html" class="flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 hover:text-purple-600 transition-colors">
                                <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                                </svg>
                                <span>Vi·ªác l√†m ƒë√£ l∆∞u</span>
                            </a>
                            
                            <div class="border-t border-gray-200"></div>
                            
                            <button onclick="logout()" class="w-full flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 hover:text-red-600 transition-colors text-left">
                                <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                                </svg>
                                <span>ƒêƒÉng xu·∫•t</span>
                            </button>
                        </div>
                    </div>
                </div>

                <label for="menu-toggle" class="flex flex-col gap-2 w-[30px] lg:hidden">
                    <span class="block w-full h-[3px] bg-[#333]"></span>
                    <span class="block w-full h-[3px] bg-[#333]"></span>
                    <span class="block w-full h-[3px] bg-[#333]"></span>
                </label>
            </nav>
            <button onclick="goToAnalysis()"
                class="hidden bg-blue-100 text-blue-600 px-4 py-2 rounded-full text-sm font-medium hover:bg-blue-200">
                Ph√¢n t√≠ch CV AI
            </button>
        </div>
    </header>

        <main class="flex-1">
            <section class="relative">
                <div class="absolute inset-x-0 top-0 h-40 bg-gradient-to-b from-white via-white/60 to-transparent pointer-events-none"></div>

                <div class="max-w-6xl mx-auto px-4 py-10 md:py-14 grid md:grid-cols-2 gap-10 items-center">
                    <div>
                        <p class="inline-flex items-center gap-2 text-[11px] px-2.5 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-100 mb-4">
                            <span class="h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
                            CareerMate ‚Äì B·∫°n ƒë·ªìng h√†nh ·ª©ng tuy·ªÉn th√¥ng minh v·ªõi AI
                        </p>
                        <h1 class="text-2xl md:text-3xl lg:text-4xl font-bold leading-tight mb-3">
                            Upload CV ƒë·ªÉ
                            <span class="bg-gradient-to-r from-green-500 to-blue-500 bg-clip-text text-transparent">
                                AI Career Coach
                            </span>
                            t·ªëi ∆∞u h·ªì s∆° c·ªßa b·∫°n
                        </h1>
                        <p class="text-sm md:text-[15px] text-slate-600 mb-4">
                            Ph√¢n t√≠ch CV &lt; 5 gi√¢y, ph√°t hi·ªán l·ªó h·ªïng k·ªπ nƒÉng, g·ª£i √Ω ch·ªânh s·ª≠a v√† vi·ªác l√†m ph√π h·ª£p cho sinh vi√™n nƒÉm cu·ªëi &amp; ng∆∞·ªùi m·ªõi t·ªët nghi·ªáp.
                        </p>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-[13px] mb-6">
                            <div class="flex gap-2">
                                <div class="mt-1 h-5 w-5 rounded-full bg-emerald-100 flex items-center justify-center text-[11px] text-green-600">
                                    ‚úì
                                </div>
                                <div>
                                    <div class="font-semibold">Ph√¢n t√≠ch CV b·∫±ng AI</div>
                                    <p class="text-slate-500">ƒê√°nh gi√° ATS, ƒëi·ªÉm ph√π h·ª£p JD v√† g·ª£i √Ω t·ª´ kh√≥a.</p>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <div class="mt-1 h-5 w-5 rounded-full bg-blue-100 flex items-center justify-center text-[11px] text-blue-600">
                                    ‚úì
                                </div>
                                <div>
                                    <div class="font-semibold">L·ªô tr√¨nh ngh·ªÅ nghi·ªáp</div>
                                    <p class="text-slate-500">G·ª£i √Ω kh√≥a h·ªçc, k·ªπ nƒÉng v√† th·ª≠ th√°ch.</p>
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-wrap items-center gap-3 text-xs">
                            <button onclick="document.getElementById('cvFile').click()" type="button" class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-green-500 to-blue-500 text-white font-semibold shadow-md hover:shadow-lg">
                                <i class="fas fa-upload"></i> Tr·∫£i nghi·ªám Career AI Coach
                            </button>
                        </div>
                    </div>

                    <div>
                        <div class="bg-white rounded-2xl shadow-xl shadow-emerald-100/60 border border-slate-100 p-5 md:p-6">
                            <div class="flex items-center justify-between mb-4">
                                <div>
                                    <h2 class="text-base md:text-lg font-semibold">
                                        T·∫£i CV ƒë·ªÉ c√°c c∆° h·ªôi vi·ªác l√†m t·ª± t√¨m ƒë·∫øn b·∫°n
                                    </h2>
                                    <p class="text-[12px] text-slate-500 mt-1">
                                        Gi·∫£m ƒë·∫øn 50% th·ªùi gian t√¨m ƒë∆∞·ª£c c√¥ng vi·ªác ph√π h·ª£p.
                                    </p>
                                </div>
                                <span class="inline-flex items-center px-2 py-0.5 rounded-full bg-emerald-50 text-[11px] text-emerald-700 border border-emerald-100">
                                    &lt; 5 gi√¢y ph√¢n t√≠ch
                                </span>
                            </div>

                            <form id="cvUploadForm" class="space-y-4">
                                <label for="cvFile" class="block border-2 border-dashed border-slate-200 rounded-xl bg-slate-50/60 hover:bg-slate-50 cursor-pointer transition p-4 md:p-5">
                                    <div class="flex flex-col items-center justify-center text-center gap-2">
                                        <div class="flex items-center justify-center h-10 w-10 rounded-full bg-gradient-to-br from-green-500 to-blue-500 text-white shadow-md">
                                            <i class="fas fa-upload"></i>
                                        </div>
                                        <div class="text-[13px]">
                                            <span class="font-semibold">K√©o &amp; th·∫£ CV v√†o ƒë√¢y</span>
                                            <span class="text-slate-500"> ho·∫∑c </span>
                                            <span class="text-blue-600 font-semibold">ch·ªçn t·ªáp t·ª´ m√°y</span>
                                        </div>
                                        <p class="text-[11px] text-slate-500">
                                            H·ªó tr·ª£ PDF, DOC, DOCX, dung l∆∞·ª£ng t·ªëi ƒëa 5MB.
                                        </p>
                                        <p id="fileName" class="text-[12px] text-green-600 font-medium hidden"></p>
                                    </div>
                                    <input id="cvFile" name="file" type="file" accept=".pdf,.doc,.docx" class="hidden" />
                                </label>

                                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-[13px]">
                                    <div>
                                        <label class="block text-xs font-medium text-slate-600 mb-1">
                                            Email li√™n h·ªá
                                        </label>
                                        <input id="emailInput" type="email" name="email" placeholder="you@example.com" class="w-full rounded-lg border border-slate-200 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-green-500" required />
                                    </div>
                                    <div>
                                        <label class="block text-xs font-medium text-slate-600 mb-1">
                                            Ng√†nh m·ª•c ti√™u
                                        </label>
                                        <select name="targetIndustry" class="w-full rounded-lg border border-slate-200 px-3 py-2 text-xs bg-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                                            <option value="">Ch·ªçn ng√†nh</option>
                                            <option>C√¥ng ngh·ªá th√¥ng tin</option>
                                            <option>Marketing / Sales</option>
                                            <option>T√†i ch√≠nh / K·∫ø to√°n</option>
                                            <option>Nh√¢n s·ª± / H√†nh ch√≠nh</option>
                                            <option>Kh√°c</option>
                                        </select>
                                    </div>
                                </div>

                                <button type="submit" class="w-full inline-flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl text-sm font-semibold text-white bg-gradient-to-r from-green-500 to-blue-500 shadow-md hover:shadow-lg">
                                    <i class="fas fa-magic"></i> Ph√¢n t√≠ch CV b·∫±ng AI
                                    <span class="text-[11px] font-normal opacity-90">(mi·ªÖn ph√≠ l∆∞·ª£t ƒë·∫ßu)</span>
                                </button>

                                <div class="flex flex-wrap items-center justify-between gap-2 text-[11px] text-slate-500">
                                    <p>
                                        B·∫±ng vi·ªác t·∫£i CV, b·∫°n ƒë·ªìng √Ω v·ªõi <a href="#" class="text-blue-600 underline">ƒêi·ªÅu kho·∫£n</a> &amp; <a href="#" class="text-blue-600 underline">B·∫£o m·∫≠t</a>.
                                    </p>
                                    <p class="flex items-center gap-1">
                                        <span class="h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
                                        B·∫£o m·∫≠t OAuth2 &amp; JWT
                                    </p>
                                </div>
                            </form>
                        </div>

                        <div class="grid sm:grid-cols-2 gap-3 mt-4 text-[12px]">
                            <div class="rounded-xl bg-white/80 border border-emerald-50 p-3 flex gap-3">
                                <div class="mt-1 h-7 w-7 rounded-lg bg-emerald-100 flex items-center justify-center text-emerald-600">
                                    üéØ
                                </div>
                                <div>
                                    <div class="font-semibold text-slate-800">Theo d√µi s·ªë li·ªáu</div>
                                    <p class="text-slate-500">Dashboard c√° nh√¢n v·ªõi ƒëi·ªÉm CV, t·ª∑ l·ªá ph√π h·ª£p.</p>
                                </div>
                            </div>
                            <div class="rounded-xl bg-white/80 border border-blue-50 p-3 flex gap-3">
                                <div class="mt-1 h-7 w-7 rounded-lg bg-blue-100 flex items-center justify-center text-blue-600">
                                    üí¨
                                </div>
                                <div>
                                    <div class="font-semibold text-slate-800">K·∫øt n·ªëi nhanh</div>
                                    <p class="text-slate-500">Gh√©p ƒë√¥i c√¥ng vi·ªác d·ª±a tr√™n JD &amp; k·ªπ nƒÉng.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="bg-slate-900 text-slate-300 text-[12px] mt-8">
            <div class="max-w-6xl mx-auto px-4 py-8 grid md:grid-cols-4 gap-6">
                <div class="space-y-2">
                    <div class="flex items-center gap-2">
                        <div class="h-8 w-8 rounded-xl bg-gradient-to-br from-green-500 to-blue-500 flex items-center justify-center text-xs font-semibold text-white">
                            CM
                        </div>
                        <div class="font-semibold text-white text-sm">CareerMate</div>
                    </div>
                    <p class="text-[11px] text-slate-400">
                        K·∫øt n·ªëi t√†i nƒÉng tr·∫ª v·ªõi c∆° h·ªôi ngh·ªÅ nghi·ªáp ƒë·∫ßu ƒë·ªùi b·∫±ng AI.
                    </p>
                </div>
                <div>
                    <h4 class="font-semibold text-white mb-2 text-sm">Li√™n k·∫øt</h4>
                    <ul class="space-y-1">
                        <li><a href="Homepage.html" class="hover:text-white">Trang ch·ªß</a></li>
                        <li><a href="Profile.html" class="hover:text-white">H·ªì s∆°</a></li>
                        <li><a href="Findjobs.html" class="hover:text-white">Vi·ªác l√†m</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold text-white mb-2 text-sm">T√†i nguy√™n</h4>
                    <ul class="space-y-1">
                        <li><a href="Printcv.html" class="hover:text-white">M·∫´u CV</a></li>
                        <li><a href="#" class="hover:text-white">Blog ƒë·ªãnh h∆∞·ªõng ngh·ªÅ</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold text-white mb-2 text-sm">Li√™n h·ªá</h4>
                    <ul class="space-y-1">
                        <li>Email: support@careermate.ai</li>
                        <li>Ch√≠nh s√°ch b·∫£o m·∫≠t</li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-slate-800 py-3 text-center text-[11px] text-slate-500">
                ¬© 2026 CareerMate. All rights reserved.
            </div>
        </footer>
    </div>

    <script>
        // Load user email and check auth
        const userEmail = localStorage.getItem('user_email');
        const token = localStorage.getItem('access_token');
        
        function checkAuthStatus() {
            if (token && userEmail) {
                // User is logged in - show user info
                document.getElementById('authButtons').classList.add('hidden');
                document.getElementById('userInfo').classList.remove('hidden');
                document.getElementById('userInfo').classList.add('flex');
                
                // Extract user name from email (before @)
                const nameParts = userEmail.split('@')[0];
                const displayName = nameParts.charAt(0).toUpperCase() + nameParts.slice(1);
                const initials = displayName.substring(0, 2).toUpperCase();
                
                // Set user info
                document.getElementById('userNameDisplay').textContent = displayName;
                document.getElementById('userEmailDisplay').textContent = userEmail;
                document.getElementById('dropdownUserName').textContent = displayName;
                document.getElementById('dropdownUserEmail').textContent = userEmail;
                document.getElementById('userAvatar').textContent = initials;
                
                // Auto-fill email in form
                document.getElementById('emailInput').value = userEmail;
            } else {
                // User is not logged in - show auth buttons
                document.getElementById('authButtons').classList.remove('hidden');
                document.getElementById('userInfo').classList.add('hidden');
                
                // Redirect to login if trying to access protected page
                alert('Vui l√≤ng ƒëƒÉng nh·∫≠p tr∆∞·ªõc!');
                window.location.href = '../auth/login.html';
            }
        }
        
        // Toggle dropdown menu
        document.addEventListener('DOMContentLoaded', function() {
            checkAuthStatus();
            
            const userMenuToggle = document.getElementById('userMenuToggle');
            const userDropdown = document.getElementById('userDropdown');
            
            if (userMenuToggle) {
                userMenuToggle.addEventListener('click', function(e) {
                    e.stopPropagation();
                    userDropdown.classList.toggle('hidden');
                });
            }
            
            // Close dropdown when clicking outside
            document.addEventListener('click', function(e) {
                if (userDropdown && !userDropdown.contains(e.target) && !userMenuToggle.contains(e.target)) {
                    userDropdown.classList.add('hidden');
                }
            });
            
            // Close dropdown when clicking on a menu item
            const dropdownItems = document.querySelectorAll('#userDropdown a, #userDropdown button');
            dropdownItems.forEach(item => {
                item.addEventListener('click', function() {
                    userDropdown.classList.add('hidden');
                });
            });
        });

        // Handle file selection
        document.getElementById('cvFile').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const fileName = document.getElementById('fileName');
                fileName.textContent = `ƒê√£ ch·ªçn: ${file.name}`;
                fileName.classList.remove('hidden');
            }
        });

        // Handle form submission
        document.getElementById('cvUploadForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const file = document.getElementById('cvFile').files[0];
            if (!file) {
                alert('Vui l√≤ng ch·ªçn file CV!');
                return;
            }
            
            // Mock upload
            alert('CV ƒë√£ ƒë∆∞·ª£c t·∫£i l√™n th√†nh c√¥ng!\n\nB·∫°n c√≥ th·ªÉ xem CV c·ªßa m√¨nh t·∫°i trang "Xem CV".');
            
            // Redirect to print CV page
            setTimeout(() => {
                window.location.href = 'Printcv.html';
            }, 1000);
        });

        function logout() {
            localStorage.removeItem('access_token');
            localStorage.removeItem('user_email');
            alert('ƒêƒÉng xu·∫•t th√†nh c√¥ng!');
            window.location.href = 'Homepage.html';
        }
    </script>
</body>
</html>
