<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>CV Analysis – CareerMate</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              cmGreen: "#02C26A",
              cmBlue: "#0075FF",
              cmDark: "#081021",
              cmLight: "#F5FAFF",
            },
          },
        },
      };
    </script>
        <script>
      // Load header
      fetch('components/header.html')
       .then(response => response.text())
       .then(data => {
            document.getElementById('header-container').innerHTML = data;
            const script = document.createElement('script');
            script.src = 'components/auth-script.js';
            document.body.appendChild(script);
          });

       // Load footer
      fetch('components/footer.html')
       .then(response => response.text())
       .then(data => {
            document.getElementById('footer-container').innerHTML = data;
         });
    </script>
  </head>
  <body class="bg-cmLight text-slate-900">
    
    <div id="header-container"></div>

    <main class="max-w-4xl mx-auto px-4 py-6 space-y-4">
      <section
        class="bg-white border border-slate-100 rounded-xl p-4 flex justify-between items-center gap-4"
      >
        <div>
          <p class="text-[11px] text-emerald-600 font-semibold">
            Kết quả phân tích
          </p>
          <h1 class="text-lg md:text-xl font-bold">
            CV Frontend Fresher của bạn
          </h1>
          <p class="text-xs text-slate-600 mt-1">
            Dựa trên JD Frontend Internship / Fresher phổ biến.
          </p>
        </div>
        <div class="flex gap-3 text-center">
          <div>
            <p class="text-[11px] text-slate-500">ATS Score</p>
            <div
              class="mt-1 h-12 w-12 rounded-full bg-slate-900 text-white flex flex-col items-center justify-center"
            >
              <span class="text-base font-bold">78</span>
              <span class="text-[9px] text-slate-300">/100</span>
            </div>
          </div>
          <div>
            <p class="text-[11px] text-slate-500">Job Match</p>
            <div
              class="mt-1 h-12 w-12 rounded-full bg-gradient-to-br from-cmGreen to-cmBlue text-white flex flex-col items-center justify-center"
            >
              <span class="text-base font-bold">84</span>
              <span class="text-[9px] text-white/80">%</span>
            </div>
          </div>
        </div>
      </section>

      <section
        class="bg-white border border-slate-100 rounded-xl p-4 text-xs space-y-3"
      >
        <h2 class="text-sm font-semibold">Tổng quan điểm CV</h2>
        <div class="space-y-2">
          <div>
            <div class="flex justify-between mb-1">
              <span>Từ khóa phù hợp JD</span
              ><span class="font-semibold">82%</span>
            </div>
            <div class="h-2 rounded-full bg-slate-100">
              <div
                class="h-2 rounded-full bg-gradient-to-r from-cmGreen to-cmBlue"
                style="width: 82%"
              ></div>
            </div>
          </div>
          <div>
            <div class="flex justify-between mb-1">
              <span>Kinh nghiệm / Projects</span
              ><span class="font-semibold">70%</span>
            </div>
            <div class="h-2 rounded-full bg-slate-100">
              <div
                class="h-2 rounded-full bg-emerald-400"
                style="width: 70%"
              ></div>
            </div>
          </div>
        </div>
      </section>

      <section class="grid md:grid-cols-2 gap-4 text-xs">
        <div
          class="bg-white border border-emerald-100 rounded-xl p-3 space-y-1"
        >
          <h3 class="text-sm font-semibold text-emerald-700">Điểm mạnh</h3>
          <ul class="list-disc list-inside text-slate-700 space-y-1">
            <li>Layout rõ ràng, dễ đọc.</li>
            <li>Có 2 project React hiển thị link GitHub.</li>
            <li>Kỹ năng React, JS, Tailwind được nhấn mạnh.</li>
          </ul>
        </div>
        <div class="bg-white border border-rose-100 rounded-xl p-3 space-y-1">
          <h3 class="text-sm font-semibold text-rose-600">Skill gaps</h3>
          <ul class="list-disc list-inside text-slate-700 space-y-1">
            <li>Thiếu TypeScript, Testing.</li>
            <li>Ít thông tin về teamwork/Agile.</li>
            <li>Summary chưa rõ mục tiêu 1–2 năm.</li>
          </ul>
        </div>
      </section>

      <section
        class="bg-white border border-slate-100 rounded-xl p-4 text-xs space-y-3"
      >
        <h2 class="text-sm font-semibold">Bước tiếp theo gợi ý</h2>
        <ul class="list-disc list-inside text-slate-700 space-y-1">
          <li>Update Summary: thêm tech chính và mục tiêu 12–24 tháng.</li>
          <li>Bổ sung 1 mini‑project React + TypeScript và update CV.</li>
          <li>
            Thêm 2–3 bullet về teamwork/Agile trong kinh nghiệm hoặc project.
          </li>
        </ul>
        <div class="flex flex-wrap gap-2">
          <button
            id="btnOpenEditor"
            class="px-4 py-2 rounded-full text-xs font-semibold text-white bg-gradient-to-r from-cmGreen to-cmBlue"
          >
            Mở CV Editor với gợi ý AI
          </button>
          <button
            id="btnViewJobs"
            class="px-3 py-2 rounded-full text-xs font-semibold border border-slate-200 text-slate-700"
          >
            Xem việc làm phù hợp
          </button>
        </div>
      </section>
    </main>

    <footer class="bg-cmDark text-[11px] text-slate-300">
      <div class="max-w-4xl mx-auto px-4 py-3 flex justify-between">
        <span>© 2026 CareerMate</span>
        <span>AI CV · Roadmap · Job Matching</span>
      </div>
      <!-- Thêm nút quay lại trong phần footer: -->
      <div class="mt-4 text-center">
          <button onclick="window.location.href='Uploadcv.html'"
              class="inline-flex items-center gap-2 text-sm px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700">
              <i class="fas fa-upload"></i> Tải CV khác để phân tích
          </button>
      </div>
    </footer>

    <div id="footer-container"></div>

    <script>
      document.addEventListener("DOMContentLoaded", function() 
      {
      const cvData = localStorage.getItem('cv_analysis_data');
      if (cvData) {
          const analysis = JSON.parse(cvData);
          // Hiển thị dữ liệu phân tích trên trang
          console.log('Dữ liệu phân tích CV:', analysis);
          // Xóa dữ liệu sau khi sử dụng
          localStorage.removeItem('cv_analysis_data');
        } else {
          console.log('Không tìm thấy dữ liệu phân tích CV.');
        }
      });

      document.getElementById("btnOpenEditor").onclick = () => {
        // window.location.href = "/cv-editor?cvId=cv_latest";
      };
      document.getElementById("btnViewJobs").onclick = () => {
        // window.location.href = "/jobs?cvId=cv_latest";
      };
    </script>
  </body>
</html>
